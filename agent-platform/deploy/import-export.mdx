# Import & Export

Transfer app configurations between environments.

---

## Overview

Import and export functionality enables you to:

- **Backup** app configurations
- **Share** setups across teams
- **Migrate** between environments
- **Version control** outside the platform

---

## Export

### What's Exported

**App-level export** includes:

| Component | Included |
|-----------|----------|
| App metadata | Name, description, settings |
| Orchestration | Pattern, configuration |
| Agents | All agent definitions |
| Tools | Workflow, code, MCP tools |
| Knowledge | Search AI connections |
| Events | Event configurations |
| Memory stores | Schema definitions |
| Variables | Environment and content variables |
| MCP servers | Server configurations |

**Agent-level export** includes:

| Component | Included |
|-----------|----------|
| Agent metadata | Name, description, instructions |
| Tools | Associated tools |
| Delegation rules | Handoff configuration |

### What's NOT Exported

- API keys and secrets
- Actual data in memory stores
- Usage analytics
- Deployment history

---

### Export Process

1. Navigate to **Deploy** → **Export/Import**
2. Select **Export** tab
3. Choose export type:
   - **App**: Full application export
   - **Agents**: Selected agents only
4. Select version (if applicable)
5. Click **Export**
6. Download the JSON file

### File Naming

```
app-<app-name>-<timestamp>.json
agents-<app-name>-<timestamp>.json
```

---

## Import

### Prerequisites

- Import permissions in your account
- Valid JSON file (max 5 MB)
- Target app must exist (for agent imports)

### Import Process

1. Navigate to **Deploy** → **Export/Import**
2. Select **Import** tab
3. Upload JSON file
4. Review component summary:
   - App details
   - Agents and tools
   - Knowledge sources
   - Memory stores
   - Variables
5. Resolve any conflicts (highlighted in red)
6. Click **Import**

### Import Order

Components are imported in dependency order:

```
1. Tools (standalone)
2. Agents
3. App configuration
4. Events
5. Memory stores
```

---

## Handling Conflicts

### Missing Dependencies

If imported configuration references missing items:

```
⚠️ Agent "Support Agent" references tool "get_order_status"
   which does not exist in target environment.

Options:
- Import the tool first
- Update agent to use existing tool
- Skip this agent
```

### Model Availability

If AI models don't exist in target:

```
⚠️ Agent uses model "gpt-4-custom" which is not available.

Options:
- Configure the model first
- Select an alternative model
```

### Name Conflicts

If names already exist:

```
⚠️ Tool "get_order_status" already exists.

Options:
- Overwrite existing
- Rename imported tool
- Skip import
```

---

## Workflow Tool Import

Workflow tools require special handling:

1. **Export** workflow tools separately if needed
2. **Import** workflow tools first
3. **Link** to agents manually after import

This ensures flow definitions and connections are properly established.

---

## Environment Variables

Variables are exported but values may need updating:

```json
{
  "env_variables": [
    {
      "name": "API_KEY",
      "value": "***REDACTED***",
      "is_secret": true
    },
    {
      "name": "API_URL",
      "value": "https://api.example.com",
      "is_secret": false
    }
  ]
}
```

After import:
1. Navigate to **Settings** → **Environment**
2. Update secret values
3. Verify non-secret values are correct

---

## Best Practices

### Before Export

- Test the app thoroughly
- Document the configuration
- Note any external dependencies
- Verify all tools are deployed

### Before Import

- Backup existing configuration
- Check model availability
- Prepare environment variables
- Review import summary carefully

### Version Control

Store exports in version control:

```
configs/
├── production/
│   ├── app-customer-service-2024-01-15.json
│   └── app-customer-service-2024-01-01.json
├── staging/
│   └── app-customer-service-latest.json
└── README.md
```

### Migration Checklist

```markdown
## Pre-Migration
- [ ] Export source configuration
- [ ] Document external dependencies
- [ ] List required API keys
- [ ] Note model requirements

## Import
- [ ] Create target app (if new)
- [ ] Upload configuration
- [ ] Resolve conflicts
- [ ] Update environment variables

## Post-Migration
- [ ] Configure API keys
- [ ] Test all agents
- [ ] Verify tool functionality
- [ ] Run diagnostics
- [ ] Test end-to-end flows
```

---

## Troubleshooting

### Import Fails

**"Invalid JSON format"**
- Validate JSON syntax
- Check file wasn't corrupted

**"File too large"**
- Maximum size is 5 MB
- Split into separate exports

**"Missing required field"**
- Ensure export is from compatible version
- Check for manual edits that removed fields

### Configuration Issues After Import

**Tools not working**
- Redeploy workflow tools
- Check API connections
- Verify environment variables

**Agents not responding correctly**
- Review instruction import
- Check knowledge connections
- Verify model configuration

---

## Related

- [Deployment](/deploy)
- [Diagnostics](/deploy/diagnostics)
- [Environment Variables](/deploy/environments)
